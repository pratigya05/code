#include <iostream>
using namespace std;

struct Node {
    int price;
    Node* next;
};

class StockStack {
private:
    Node* top;   // Points to the top of stack
public:
    StockStack() {
        top = NULL;
    }

    // Check if stack is empty
    bool isEmpty() {
        return top == NULL;
    }

    // record(price) → Push operation
    void record(int price) {
        Node* newNode = new Node;
        newNode->price = price;
        newNode->next = top;
        top = newNode;
        cout << "Price recorded: " << price << endl;
    }

    // remove() → Pop operation
    int remove() {
        if (isEmpty()) {
            cout << "No prices to remove! Stack is empty.\n";
            return -1;
        }

        int removedPrice = top->price;
        Node* temp = top;
        top = top->next;
        delete temp;

        cout << "Removed latest price: " << removedPrice << endl;
        return removedPrice;
    }

    // latest() → Peek operation
    int latest() {
        if (isEmpty()) {
            cout << "No latest price available. Stack is empty.\n";
            return -1;
        }

        cout << "Latest price: " << top->price << endl;
        return top->price;
    }

    // Display whole stack (optional helper)
    void display() {
        if (isEmpty()) {
            cout << "No price records.\n";
            return;
        }

        cout << "Price History (Top to Bottom): ";
        Node* temp = top;
        while (temp != NULL) {
            cout << temp->price << " ";
            temp = temp->next;
        }
        cout << endl;
    }
};

// Driver code
int main() {
    StockStack s;
    int choice, price;

    do {
        cout << "\n*** STOCK PRICE TRACKER (STACK USING LINKED LIST) ***\n";
        cout << "1. Record New Price\n";
        cout << "2. Remove Latest Price\n";
        cout << "3. View Latest Price\n";
        cout << "4. Check if Empty\n";
        cout << "5. Display All Prices\n";
        cout << "6. Exit\n";
        cout << "Enter choice: ";
        cin >> choice;

        switch(choice) {
        case 1:
            cout << "Enter price: ";
            cin >> price;
            s.record(price);
            break;

        case 2:
            s.remove();
            break;

        case 3:
            s.latest();
            break;

        case 4:
            cout << (s.isEmpty() ? "Stack is empty.\n" : "Stack is NOT empty.\n");
            break;

        case 5:
            s.display();
            break;

        case 6:
            cout << "Exiting...\n";
            break;

        default:
            cout << "Invalid choice!\n";
        }

    } while (choice != 6);

    return 0;
}
